] server connection lost. Polling for restart...
lockdown-install.js:1 SES Removing unpermitted intrinsics
lockdown-install.js:1 SES Removing unpermitted intrinsics
injected.js:37 [vite] connecting...
injected.js:37 [vite] connected.
lockdown-install.js:1 SES Removing unpermitted intrinsics
injected.js:37 [vite] connecting...
injected.js:37 [vite] connected.
lockdown-install.js:1 SES Removing unpermitted intrinsics
injected.js:37 [vite] connecting...
injected.js:37 [vite] connected.
injected.js:37 [vite] hot updated: /styles.css
injected.js:37 [vite] hot updated: /pages/PlannerPage.tsx
injected.js:37 [vite] hot updated: /styles.css
injected.js:37 [vite] hot updated: /pages/PlannerPage.tsx
injected.js:37 [vite] server connection lost. Polling for restart...
lockdown-install.js:1 SES Removing unpermitted intrinsics
VM49 lockdown-install.js:1 SES Removing unpermitted intrinsics
VM58 injected.js:37 [vite] connecting...
VM58 injected.js:37 [vite] connected.
lockdown-install.js:1 SES Removing unpermitted intrinsics
injected.js:37 [vite] connecting...
injected.js:37 [vite] connected.
injected.js:37 [PlannerPage] Step 1: Compressing image...
injected.js:37 [PlannerPage] Step 2: Running analyzeBathroomInput...
injected.js:37 [analyzeBathroomInput] Starting bathroom analysis (direct API first)...
injected.js:37 [analyzeBathroomInput] Calling Google direct API...
injected.js:37 [analyzeBathroomInput] Analysis result: {
  "camera": {
    "position": "EYE_LEVEL",
    "facingFromWall": 2,
    "lensFeel": "WIDE_ANGLE"
  },
  "walls": [
    {
      "wallIndex": 0,
      "visible": true,
      "hasPlumbing": true,
      "anchors": [
        {
          "type": "WINDOW",
          "confidence": 0.95
        }
      ]
    },
    {
      "wallIndex": 1,
      "visible": true,
      "hasPlumbing": true,
      "anchors": []
    },
    {
      "wallIndex": 2,
      "visible": false,
      "hasPlumbing": false,
      "anchors": []
    },
    {
      "wallIndex": 3,
      "visible": true,
      "hasPlumbing": true,
      "anchors": []
    }
  ],
  "fixtures": [
    {
      "type": "SINK",
      "wall": 3,
      "x": 15,
      "condition": "GOOD",
      "confidence": 0.95
    },
    {
      "type": "SHOWER",
      "wall": 3,
      "x": 30,
      "condition": "GOOD",
      "confidence": 0.95
    },
    {
      "type": "WINDOW",
      "wall": 0,
      "x": 66,
      "condition": "GOOD",
      "confidence": 0.95
    },
    {
      "type": "RADIATOR",
      "wall": 0,
      "x": 66,
      "condition": "GOOD",
      "confidence": 0.95
    },
    {
      "type": "TOILET",
      "wall": 1,
      "x": 85,
      "condition": "GOOD",
      "confidence": 0.9
    }
  ],
  "plumbingWall": 3,
  "occlusions": [
    "Wall 2 not visible (behind camera)",
    "Ceiling partially obscured"
  ],
  "dims": "3.5x4.2x2.6"
}
injected.js:37 [PlannerPage] Step 2 complete: Analysis done
injected.js:37 [PlannerPage] Step 3: Fetching products and images...
injected.js:37 [PlannerPage] Step 3 complete: 3 products, 3 images
injected.js:37 [PlannerPage] Step 4: Starting generation + cost estimation in parallel...
injected.js:37 [generateRenovation] PERSPECTIVE LOCK: PERSPECTIVE LOCK — The output image MUST match this exact viewpoint:
The camera is positioned at the South wall, at chest height, approximately 1.4m, looking straight toward the North wall. Wide-angle lens — edges of the frame show slight barrel distortion.
The North wall (far wall) is fully visible, the West wall (left side) is visible, the East wall (right side) is visible.
Visible architectural features: Window on the North wall.
Current fixtures in frame: double vanity sink on the West wall (left side of frame), walk-in shower enclosure on the West wall (left side of frame), wall-hung toilet on the East wall (right side of frame).
Room dimensions: approximately 3.5m wide × 3.9m long, 2.6m ceiling.
Not visible from this viewpoint: Wall 2 not visible (behind camera); Ceiling partially obscured.

DO NOT change the camera position, height, angle, or viewing direction.
The perspective in the output must be IDENTICAL to the original photo.
injected.js:37 [generateRenovation] ROOM DESCRIPTION: ROOM DESCRIPTION — This is the exact room being renovated:
A rectangle bathroom, approximately 3.5m wide × 3.9m long, 2.6m ceiling height.
Walls: North wall: visible — has a window (approximately 0% of wall width) at frame coordinates [0.5%,0.22%] → [0.82%,0.62%] — has plumbing connections — Large exterior wall with window. East wall: visible — has plumbing connections — Partition or side wall. South wall: NOT FULLY VISIBLE (behind camera/occluded).. West wall: visible — has plumbing connections — Tiled shower area, vanity wall.
Current fixtures: double vanity sink on the West wall at X:15% Y:60% (left third) (good condition). walk-in shower enclosure on the West wall at X:30% Y:45% (left third) (good condition). wall-hung toilet on the East wall at X:85% Y:85% (right third) (good condition). Notable: User requested removal of radiator (wall 0)..
Primary plumbing connections are on the West wall.
Primary natural light enters from the FRONT (North wall).
All walls, windows, doors, and ceiling features must remain IDENTICAL in the output — only fixtures, materials, and finishes change.
injected.js:37 [generateRenovation] Starting image generation via proxy...
injected.js:37 [calculateRenovationCost] Starting cost estimation (direct API first)...
injected.js:37 [calculateRenovationCost] Calling Google direct API...
injected.js:37 [generateRenovation] Response received, extracting image...
injected.js:37 [PlannerPage] Step 4 complete: render=yes, estimate total=17995.7713